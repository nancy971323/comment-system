{"ast":null,"code":"import { createComment } from '../../services/comment';\nexport default {\n  name: 'CommentForm',\n  data() {\n    return {\n      content: '',\n      isSubmitting: false,\n      errorMessage: ''\n    };\n  },\n  methods: {\n    validateComment() {\n      this.errorMessage = '';\n      if (!this.content.trim()) {\n        this.errorMessage = '留言內容不能為空';\n        return false;\n      }\n      if (this.content.length > 1000) {\n        this.errorMessage = '留言不能超過1000字';\n        return false;\n      }\n      return true;\n    },\n    async submitComment() {\n      if (!this.validateComment()) {\n        return;\n      }\n      this.isSubmitting = true;\n      try {\n        await createComment(this.content.trim());\n        this.content = ''; // 清空輸入框\n        this.$emit('comment-added');\n      } catch (error) {\n        console.error('Failed to submit comment:', error);\n        this.errorMessage = error.message || '發送留言失敗，請稍後再試';\n      } finally {\n        this.isSubmitting = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["createComment","name","data","content","isSubmitting","errorMessage","methods","validateComment","trim","length","submitComment","$emit","error","console","message"],"sources":["/Users/lidiannan/Documents/GitHub/comment-system/frontend/src/components/Comment/CommentForm.vue"],"sourcesContent":["<template>\n    <div class=\"comment-form-container\">\n      <h3>發表留言</h3>\n      <form @submit.prevent=\"submitComment\" class=\"comment-form\">\n        <textarea\n          v-model=\"content\"\n          placeholder=\"分享您的想法...\"\n          :class=\"{ 'invalid': errorMessage }\"\n          rows=\"4\"\n        ></textarea>\n        <div v-if=\"errorMessage\" class=\"error-message\">{{ errorMessage }}</div>\n        <button type=\"submit\" :disabled=\"isSubmitting\">\n          {{ isSubmitting ? '發送中...' : '發送留言' }}\n        </button>\n      </form>\n    </div>\n  </template>\n  \n  <script>\n  import { createComment } from '../../services/comment'\n  \n  export default {\n    name: 'CommentForm',\n    data() {\n      return {\n        content: '',\n        isSubmitting: false,\n        errorMessage: ''\n      }\n    },\n    methods: {\n      validateComment() {\n        this.errorMessage = ''\n        \n        if (!this.content.trim()) {\n          this.errorMessage = '留言內容不能為空'\n          return false\n        }\n        \n        if (this.content.length > 1000) {\n          this.errorMessage = '留言不能超過1000字'\n          return false\n        }\n        \n        return true\n      },\n      \n      async submitComment() {\n        if (!this.validateComment()) {\n          return\n        }\n        \n        this.isSubmitting = true\n        \n        try {\n          await createComment(this.content.trim())\n          this.content = '' // 清空輸入框\n          this.$emit('comment-added')\n        } catch (error) {\n          console.error('Failed to submit comment:', error)\n          this.errorMessage = error.message || '發送留言失敗，請稍後再試'\n        } finally {\n          this.isSubmitting = false\n        }\n      }\n    }\n  }\n  </script>\n  \n  <style scoped>\n  .comment-form-container {\n    margin-bottom: 30px;\n  }\n  \n  h3 {\n    margin-top: 0;\n    margin-bottom: 15px;\n    color: #333;\n  }\n  \n  .comment-form {\n    display: flex;\n    flex-direction: column;\n  }\n  \n  textarea {\n    width: 100%;\n    padding: 12px;\n    border: 1px solid #ddd;\n    border-radius: 4px;\n    font-size: 16px;\n    resize: vertical;\n    margin-bottom: 10px;\n    font-family: inherit;\n  }\n  \n  textarea.invalid {\n    border-color: #ff6b6b;\n  }\n  \n  .error-message {\n    color: #ff6b6b;\n    font-size: 14px;\n    margin-bottom: 10px;\n  }\n  \n  button {\n    align-self: flex-end;\n    padding: 10px 20px;\n    background-color: #4CAF50;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    font-size: 15px;\n    cursor: pointer;\n  }\n  \n  button:hover {\n    background-color: #45a049;\n  }\n  \n  button:disabled {\n    background-color: #cccccc;\n    cursor: not-allowed;\n  }\n  </style>"],"mappings":"AAmBE,SAASA,aAAY,QAAS,wBAAuB;AAErD,eAAe;EACbC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,EAAE;MACXC,YAAY,EAAE,KAAK;MACnBC,YAAY,EAAE;IAChB;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,eAAeA,CAAA,EAAG;MAChB,IAAI,CAACF,YAAW,GAAI,EAAC;MAErB,IAAI,CAAC,IAAI,CAACF,OAAO,CAACK,IAAI,CAAC,CAAC,EAAE;QACxB,IAAI,CAACH,YAAW,GAAI,UAAS;QAC7B,OAAO,KAAI;MACb;MAEA,IAAI,IAAI,CAACF,OAAO,CAACM,MAAK,GAAI,IAAI,EAAE;QAC9B,IAAI,CAACJ,YAAW,GAAI,aAAY;QAChC,OAAO,KAAI;MACb;MAEA,OAAO,IAAG;IACZ,CAAC;IAED,MAAMK,aAAaA,CAAA,EAAG;MACpB,IAAI,CAAC,IAAI,CAACH,eAAe,CAAC,CAAC,EAAE;QAC3B;MACF;MAEA,IAAI,CAACH,YAAW,GAAI,IAAG;MAEvB,IAAI;QACF,MAAMJ,aAAa,CAAC,IAAI,CAACG,OAAO,CAACK,IAAI,CAAC,CAAC;QACvC,IAAI,CAACL,OAAM,GAAI,EAAC,EAAE;QAClB,IAAI,CAACQ,KAAK,CAAC,eAAe;MAC5B,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK;QAChD,IAAI,CAACP,YAAW,GAAIO,KAAK,CAACE,OAAM,IAAK,cAAa;MACpD,UAAU;QACR,IAAI,CAACV,YAAW,GAAI,KAAI;MAC1B;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}